<clr-tabs>
  <clr-tab>
    <button clrTabLink>Settings</button>
    <clr-tab-content *clrIfActive>
      <app-settings></app-settings>
    </clr-tab-content>
  </clr-tab>
  <clr-tab *ngIf="_placementService.solutions != undefined">
    <button clrTabLink>Costs Comparison</button>
    <clr-tab-content *clrIfActive>
      <app-charts></app-charts>
    </clr-tab-content>
  </clr-tab>
  <clr-tab *ngFor="let solution of _placementService.solutions">
    <button clrTabLink [clrTabLinkInOverflow]="isOverflow">{{isOverflow ? solution.algorithm : solution.short}}</button>
    <clr-tab-content *clrIfActive>
      <clr-stack-view>
        <clr-stack-header>
          Cost functions:
          <span class="label label-orange">
            {{solution.solution.getCost().toFixed(3)}}
            <span class="badge tooltip tooltip-sm" role="tooltip">
              M
              <span class="tooltip-content">Multiplication</span>
          </span>
          </span>
          <span class="label label-orange">
            {{solution.solution.getCostAVG().toFixed(3)}}
            <span class="badge tooltip tooltip-sm" role="tooltip">
              A
              <span class="tooltip-content">Average</span>
          </span>
          </span>
        </clr-stack-header>
        <clr-stack-block [clrSbExpanded]="false" *ngFor="let pm of solution.solution.PMs">
          <clr-stack-label>
            {{pm.name}}
            <span class="label label-blue">
                {{pm.getCost().toFixed(3)}}
                <span class="badge">{{pm.tiers.length}}</span>
            </span>
          </clr-stack-label>
          <clr-stack-content>{{(pm.getCapacityUsed()* 100).toFixed(0)}}% of {{pm.capacity * 100}}%</clr-stack-content>
          <clr-stack-block *ngFor="let tier of pm.tiers">
            <clr-stack-label>
              {{tier.name}}
            </clr-stack-label>
            <clr-stack-content>{{(tier.capacity.capacity*100).toFixed(2)}}%</clr-stack-content>
          </clr-stack-block>
        </clr-stack-block>
      </clr-stack-view>
    </clr-tab-content>
  </clr-tab>
</clr-tabs>
