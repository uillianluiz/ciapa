<clr-tabs>
  <clr-tab>
    <button clrTabLink>Settings</button>
    <clr-tab-content>
      <app-settings></app-settings>
    </clr-tab-content>
  </clr-tab>
  <clr-tab *ngIf="_placementService.solutions != undefined">
    <button clrTabLink>Costs Comparison</button>
    <clr-tab-content *clrIfActive>
      <app-charts></app-charts>
    </clr-tab-content>
  </clr-tab>
  <clr-tab *ngFor="let solution of _placementService.solutions">
    <button clrTabLink [clrTabLinkInOverflow]="isOverflow">{{showShort ? solution.short : solution.algorithm}}</button>
    <clr-tab-content *clrIfActive>
      <div class="row">
        <div class="col-xs-12 cost">
          Cost functions:
          <span class="label label-orange">
            {{solution.solution.getCost().toFixed(3)}}
            <span class="badge tooltip tooltip-sm" role="tooltip">
              M
              <span class="tooltip-content">Multiplication</span>
            </span>
          </span>
          <span class="label label-orange">
            {{solution.solution.getCostAVG().toFixed(3)}}
            <span class="badge tooltip tooltip-sm" role="tooltip">
              A
              <span class="tooltip-content">Average</span>
            </span>
          </span>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3" *ngFor="let pm of solution.solution.PMs">
          <div class="card">
            <div class="card-block">
              <div class="progress top" [ngClass]="(pm.getCapacityUsed()*100)/pm.capacity >= 100 ? 'danger' : 'success'">
                <progress [value]="pm.getCapacityUsed()" [max]="pm.capacity"></progress>
              </div>
              <h4 class="card-title">
                {{pm.name}}
                <span class="right">{{(pm.getCapacityUsed()* 100).toFixed(0)}}/{{pm.capacity * 100}}</span>
              </h4>
            </div>

            <ul class="list-group list-group-flush">
              <li class="list-group-item" *ngFor="let tier of pm.tiers">
                {{tier.name}}
                <span class="right">{{tier.capacity.capacity*100}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>



      <!--   <clr-stack-view>
        <clr-stack-header>
          Cost functions:
          <span class="label label-orange">
            {{solution.solution.getCost().toFixed(3)}}
            <span class="badge tooltip tooltip-sm" role="tooltip">
              M
              <span class="tooltip-content">Multiplication</span>
          </span>
          </span>
          <span class="label label-orange">
            {{solution.solution.getCostAVG().toFixed(3)}}
            <span class="badge tooltip tooltip-sm" role="tooltip">
              A
              <span class="tooltip-content">Average</span>
          </span>
          </span>
        </clr-stack-header>
        <clr-stack-block [clrSbExpanded]="false" *ngFor="let pm of solution.solution.PMs">
          <clr-stack-label>
            {{pm.name}}
            <span class="label label-blue">
                {{pm.getCost().toFixed(3)}}
                <span class="badge">{{pm.tiers.length}}</span>
            </span>
          </clr-stack-label>
          <clr-stack-content>{{(pm.getCapacityUsed()* 100).toFixed(0)}}/{{pm.capacity * 100}}</clr-stack-content>
          <clr-stack-block *ngFor="let tier of pm.tiers">
            <clr-stack-label>
              {{tier.name}}
            </clr-stack-label>
            <clr-stack-content>{{(tier.capacity.capacity*100).toFixed(0)}}</clr-stack-content>
          </clr-stack-block>
        </clr-stack-block>
      </clr-stack-view> -->
    </clr-tab-content>
  </clr-tab>
</clr-tabs>
